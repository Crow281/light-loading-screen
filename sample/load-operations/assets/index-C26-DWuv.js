(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();function l(r){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(r)}function m(r,e){if(l(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e||"default");if(l(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function d(r){var e=m(r,"string");return l(e)=="symbol"?e:e+""}function u(r,e,t){return(e=d(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}class h{constructor(e){this._element=e;const t=e.style;t.position="fixed",t.inset="0px",t.background="white"}get element(){return this._element}get zIndex(){return this._element.style.zIndex}set zIndex(e){this._element.style.zIndex=e}get background(){return this._element.style.background}set background(e){this._element.style.background=e}}class g{constructor(e){u(this,"_onTryAgain",null),u(this,"_onCancel",null),this._element=e;const t=e.style;t.position="absolute",t.left="50%",t.top="50%",t.transform="translate(-50%, -50%)",t.textAlign="center";const s=document.createElement("p");this._messageParagraph=s,e.appendChild(s),e.appendChild(document.createElement("br"));const n=document.createElement("button");this._tryAgainButton=n,n.hidden=!0,e.append(n),n.innerText="ðŸ—˜",n.onclick=()=>{this._onTryAgain()};const o=document.createElement("button");this._cancelButton=o,o.hidden=!0,e.append(o),o.innerText="ðŸ—™",o.onclick=()=>{this._onCancel()},this.messageColor="red"}get element(){return this._element}get message(){return this._messageParagraph.innerText}set message(e){this._messageParagraph.innerText=e}get messageColor(){return this._messageParagraph.style.color}set messageColor(e){this._messageParagraph.style.color=e}get onTryAgain(){return this._onTryAgain}set onTryAgain(e){this._onTryAgain=e,this._tryAgainButton.hidden=!e}get onCancel(){return this._onCancel}set onCancel(e){this._onCancel=e,this._cancelButton.hidden=!e}}class p{constructor(e){this._element=e;const t=e.style;t.position="absolute",t.left="50%",t.top="50%",t.transform="translate(-50%, -50%)",t.borderRadius="50%",t.borderStyle="solid",t.borderColor="transparent",this.size="3em",this.borderSize="0.75em",this.color="rgb(64, 150, 255)",e.animate([{transform:"rotate(0deg)"},{transform:"rotate(360deg)"}],{duration:1e3,iterations:Number.POSITIVE_INFINITY})}get element(){return this._element}get size(){return this._element.style.width}set size(e){const t=this._element.style;t.width=e,t.height=e}get borderSize(){return this._element.style.borderWidth}set borderSize(e){this._element.style.borderWidth=e}get color(){return this._element.style.borderTopColor}set color(e){const t=this._element.style;t.borderTopColor=e,t.borderBottomColor=e}get animation(){return this._element.style.animation}set animation(e){this._element.style.animation=e}}let i=function(r){return r[r.None=0]="None",r[r.Spinner=1]="Spinner",r[r.ErrorDialog=2]="ErrorDialog",r}({});class f{constructor(){u(this,"_state",i.None);const e=document.createElement("div");this._background=new h(e);const t=document.createElement("div");this._spinner=new p(t);const s=document.createElement("div");this._errorDialog=new g(s),this.state=i.Spinner}get background(){return this._background}get spinner(){return this._spinner}get errorDialog(){return this._errorDialog}get visible(){return this._background.element.parentElement!==null}set visible(e){if(this.visible!==e)if(e)document.body.appendChild(this._background.element);else{const t=this._background.element;t.parentElement.removeChild(t)}}get state(){return this._state}set state(e){if(this._state===e)return;const t=this._background.element,s=this.getStateElements(this._state),n=this.getStateElements(e);for(const o of s)t.removeChild(o);for(const o of n)t.appendChild(o);this._state=e}getStateElements(e){switch(e){case i.Spinner:return[this._spinner.element];case i.ErrorDialog:return[this._errorDialog.element];default:return[]}}}function c(r,e,t){r.visible=!0,r.state=i.Spinner,t||(t=s=>s?String(s):"Error âš "),e.then(s=>{r.visible=!1},s=>{r.state=i.ErrorDialog,r.errorDialog.message=t(s)})}function y(r,e,t){r.errorDialog.onTryAgain=()=>{c(r,e(),t)},c(r,e(),t)}function b(r,e){const t=()=>{e.removeEventListener("load",s),e.removeEventListener("error",n)},s=o=>{t(),r.visible=!1},n=o=>{t(),r.state=i.ErrorDialog,r.errorDialog.message=o.message,r.errorDialog.onTryAgain=()=>{window.location.reload()}};r.visible=!0,r.state=i.Spinner,e.addEventListener("load",s),e.addEventListener("error",n)}export{f as L,u as _,y as a,b,l as c,c as d,d as t};
