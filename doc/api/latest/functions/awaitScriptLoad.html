<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>awaitScriptLoad | @crow281/light-loading-screen</title><meta name="description" content="Documentation for @crow281/light-loading-screen"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@crow281/light-loading-screen</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@crow281/light-loading-screen</a></li><li><a href="awaitScriptLoad.html">awaitScriptLoad</a></li></ul><h1>Function awaitScriptLoad</h1></div><section class="tsd-panel"><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="awaitscriptload" class="tsd-anchor"></a><span class="tsd-kind-call-signature">awaitScriptLoad</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">loadingScreen</span><span class="tsd-signature-symbol">:</span> <a href="../classes/LoadingScreen.html" class="tsd-signature-type tsd-kind-class">LoadingScreen</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">scriptElement</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">HTMLScriptElement</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#awaitscriptload" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Intended for initializing an overall web application.</p>
<p>Sets the loading screen to animate until the given script element
triggers the load event.</p>
<p>If the script element fires the load event,
the loading screen will then remove itself.</p>
<p>If the script element fires the error event,
it will display the error message and a try again button.
The try again button will simply reload the page
by calling window.location.reload.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">loadingScreen</span>: <a href="../classes/LoadingScreen.html" class="tsd-signature-type tsd-kind-class">LoadingScreen</a></span><div class="tsd-comment tsd-typography"><p>UI widget used to indicate progress to user.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">scriptElement</span>: <span class="tsd-signature-type">HTMLScriptElement</span></span><div class="tsd-comment tsd-typography"><p>The loading script tag the loading screen is waiting on.</p>
<p>The script is assumed to have been set to async.</p>
<p>This method has no way of checking whether a script element has
already been loaded.
If the script element passed to this method fired the load event
before you passed it to this method, then the loading screen will never end.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example" class="tsd-anchor"></a>Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="html"><span class="hl-9">&lt;</span><span class="hl-10">html</span><span class="hl-9">&gt;</span><br/><span class="hl-0">    </span><span class="hl-9">&lt;</span><span class="hl-10">head</span><span class="hl-9">&gt;</span><br/><span class="hl-0">        </span><span class="hl-9">&lt;</span><span class="hl-10">title</span><span class="hl-9">&gt;</span><span class="hl-0">Example</span><span class="hl-9">&lt;/</span><span class="hl-10">title</span><span class="hl-9">&gt;</span><br/><span class="hl-0">    </span><span class="hl-9">&lt;/</span><span class="hl-10">head</span><span class="hl-9">&gt;</span><br/><span class="hl-0">    </span><span class="hl-9">&lt;</span><span class="hl-10">body</span><span class="hl-9">&gt;</span><br/><span class="hl-0">        </span><span class="hl-9">&lt;</span><span class="hl-10">script</span><span class="hl-11"> </span><span class="hl-12">type</span><span class="hl-11">=</span><span class="hl-13">&quot;module&quot;</span><span class="hl-11"> </span><span class="hl-12">src</span><span class="hl-11">=</span><span class="hl-13">&quot;./LoadLoadingScreen.js&quot;</span><span class="hl-9">&gt;&lt;/</span><span class="hl-10">script</span><span class="hl-9">&gt;</span><br/><span class="hl-0">        </span><span class="hl-4">&lt;!--</span><br/><span class="hl-4">            Note that the app initialization script is later in the</span><br/><span class="hl-4">            document order than the loading screen and</span><br/><span class="hl-4">            has the async propert set.</span><br/><span class="hl-4">        --&gt;</span><br/><span class="hl-0">        </span><span class="hl-9">&lt;</span><span class="hl-10">script</span><span class="hl-11"> </span><span class="hl-12">id</span><span class="hl-11">=</span><span class="hl-13">&quot;mainScript&quot;</span><span class="hl-11"> </span><span class="hl-12">type</span><span class="hl-11">=</span><span class="hl-13">&quot;module&quot;</span><span class="hl-11"> </span><span class="hl-12">src</span><span class="hl-11">=</span><span class="hl-13">&quot;./main.js&quot;</span><span class="hl-11"> </span><span class="hl-12">async</span><span class="hl-9">&gt;&lt;/</span><span class="hl-10">script</span><span class="hl-9">&gt;</span><br/><span class="hl-0">    </span><span class="hl-9">&lt;/</span><span class="hl-10">body</span><span class="hl-9">&gt;</span><br/><span class="hl-9">&lt;/</span><span class="hl-10">html</span><span class="hl-9">&gt;</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">//LoadLoadingScreen.ts -&gt; LoadLoadingScreen.js after compiling.</span><br/><span class="hl-4">//Import the modules we need.</span><br/><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">LoadingScreen</span><span class="hl-0">, </span><span class="hl-2">awaitScriptLoad</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&quot;@crow281/light-loading-screen&quot;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">//Create the new loading screen.</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">loadingScreen</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-7">LoadingScreen</span><span class="hl-0">();</span><br/><br/><span class="hl-4">//Fetch the script element used to load the app.</span><br/><span class="hl-4">//Since this tag has async on it, the browser won&#39;t wait for it to load,</span><br/><span class="hl-4">//and since it is after LoadLoadingScreen in the document,</span><br/><span class="hl-4">//LoadLoadingScreen will be called first.</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">mainScript</span><span class="hl-0"> = </span><span class="hl-2">document</span><span class="hl-0">.</span><span class="hl-7">getElementById</span><span class="hl-0">(</span><span class="hl-3">&quot;mainScript&quot;</span><span class="hl-0">);</span><br/><br/><span class="hl-4">//Activate loading screen and make it wait till</span><br/><span class="hl-4">//mainScript fires the load or error event.</span><br/><span class="hl-7">awaitScriptLoad</span><span class="hl-0">(</span><span class="hl-2">loadingScreen</span><span class="hl-0">, </span><span class="hl-2">mainScript</span><span class="hl-0">);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/Crow281/light-loading-screen/blob/076306665e731930823e9bdf763180ac5429a880/src/Utils/AwaitScriptLoad.ts#L87">Utils/AwaitScriptLoad.ts:87</a></li></ul></aside></li></ul></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">@crow281/light-loading-screen</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
